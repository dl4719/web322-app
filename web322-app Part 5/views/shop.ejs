
<div class="row">
    <%- include('layouts/main', {page: '/shop'}) %>
    <section class="main col-md-9">
      <article>
        <div class="row">
            <% if (data.item) { %>
          <div class="col-4">
            <h2><%= data.item.title %></h2>
            <img
              src="<%= data.item.featureImage %>"
              alt="feature Image"
              style="width:100%"
            />
          </div>
  
          <div class="col-8">
            <br />
            <br />
            <div class="row">
              <div class="col-12">
                <%= data.item.body %>
                <br /><br />
                <strong>Price:</strong>
                $ <%= data.item.price %><br />
                <strong>Category:</strong>
                <%= data.item.category ? data.item.category.category : "No Category" %><br />
                <strong>Last Updated:</strong>
                <%= formatDate(data.item.postDate) %>
              </div>
            </div>
          </div>
          <% } else if (data.items) { %>
            <% data.items.forEach(item => { %>
            <div class="col-4">
                <h2><%= item.title %></h2>
                <img
                  src="<%= item.featureImage %>"
                  alt="feature Image"
                  style="width:100%"
                />
              </div>
      
              <div class="col-8">
                <br />
                <br />
                <div class="row">
                  <div class="col-12">
                    <%= item.body %>
                    <br /><br />
                    <strong>Price:</strong>
                    $ <%= item.price %><br />
                    <strong>Category:</strong>
                    <%= item.category %><br />
                    <strong>Last Updated:</strong>
                    <%= item.postDate %>
                  </div>
                </div>
              </div>
              <% }) %>
              <% } else { %>
            <div class="col-md-12 text-center"> 

                <h2><%= data.message %></h2> 
            
                <p>Please try another Post / Item</p> 
            
            </div>
            <% } %>
        </div>
      </article>
    </section>
  
    <aside class="col-md-3">
      <br /><br />

      <% if (data.items) { %>
      <h4>Items</h4>
  
      <ul class="list-group">
        <% data.items.forEach(item => { %> 
        <a href="/shop/<%= item.id %>?category=<%= item.category %>" class="list-group-item">
            <%= item.title %>
        </a>
        <% }) %>
      </ul>
      <% } %>

      <% if (data.categories) { %>
      <h4>Categories</h4>
  
      <ul class="list-group">
        <% data.categories.forEach(categoryItem => { %>
        <a href="/shop?category=<%= categoryItem.id %>" class="list-group-item">
            <%= categoryItem.category %>
        </a>
        <% }) %>
      </ul>
      <% } else {%>
        <div class="col-md-12 text-center"> 

            <h2><%= data.categoriesMessage %></h2> 
        
            <p>Please try another Post / Category</p> 
        
        </div>
        <% } %>
    </aside>
  </div>
  